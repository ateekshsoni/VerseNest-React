const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CB41QSQZ.js","assets/ui-Dd_wLzvn.js","assets/router-CBa4Q3vi.js","assets/vendor-CMmhtoO5.js","assets/helmet-CAzaxHIw.js","assets/index-CIg29FvZ.css"])))=>i.map(i=>d[i]);
import{j as e}from"./ui-Dd_wLzvn.js";import{r as t}from"./router-CBa4Q3vi.js";import{R as n}from"./reader-DTkBC3B5.js";import{S as r}from"./SEO-CNJLUDMx.js";import{_ as o}from"./index-CB41QSQZ.js";import"./vendor-CMmhtoO5.js";import"./helmet-CAzaxHIw.js";const a=()=>({trackPageView:t.useCallback(((e,t={})=>{(new Date).toISOString(),"undefined"!=typeof gtag&&gtag("event","page_view",{page_title:e,page_location:window.location.href,...t})}),[]),trackEvent:t.useCallback(((e,t="user_interaction",n="",r=0)=>{(new Date).toISOString(),"undefined"!=typeof gtag&&gtag("event",e,{event_category:t,event_label:n,value:r})}),[]),trackTiming:t.useCallback(((e,t,n="performance")=>{(new Date).toISOString(),"undefined"!=typeof gtag&&gtag("event","timing_complete",{name:e,value:t,event_category:n})}),[])}),s={useAnalytics:a,usePerformanceMonitor:e=>{const n=t.useRef(Date.now()),{trackTiming:r}=a();t.useEffect((()=>{const t=Date.now()-n.current;r(`${e}_render`,t,"component_performance");const o=performance.now();return r(`${e}_mount`,o,"component_performance"),()=>{const t=performance.now();r(`${e}_unmount`,t,"component_performance")}}),[e,r]);return{measureOperation:t.useCallback(((t,n)=>{const o=performance.now(),a=n();if(a&&"function"==typeof a.then)return a.finally((()=>{const n=performance.now();r(`${e}_${t}`,n-o,"operation_performance")}));{const n=performance.now();return r(`${e}_${t}`,n-o,"operation_performance"),a}}),[e,r])}},useEngagementTracking:()=>{const{trackEvent:e}=a(),n=t.useRef(Date.now()),r=t.useRef(Date.now()),o=t.useRef(0);t.useEffect((()=>{const t=()=>{const t=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);t>o.current&&(o.current=t,t>=25&&t<50?e("scroll_25","engagement","scroll_depth"):t>=50&&t<75?e("scroll_50","engagement","scroll_depth"):t>=75&&t<90?e("scroll_75","engagement","scroll_depth"):t>=90&&e("scroll_90","engagement","scroll_depth"))},a=()=>{r.current=Date.now()},s=()=>{const t=Date.now()-n.current;e("session_duration","engagement","time_on_page",Math.round(t/1e3))};return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("mousemove",a,{passive:!0}),window.addEventListener("keydown",a,{passive:!0}),window.addEventListener("click",a,{passive:!0}),window.addEventListener("beforeunload",s),()=>{window.removeEventListener("scroll",t),window.removeEventListener("mousemove",a),window.removeEventListener("keydown",a),window.removeEventListener("click",a),window.removeEventListener("beforeunload",s)}}),[e]);return{trackClick:t.useCallback(((t,n={})=>{e("click","interaction",t,1)}),[e]),trackFormSubmit:t.useCallback(((t,n=!0)=>{e(n?"form_submit_success":"form_submit_error","form",t)}),[e]),trackSearch:t.useCallback(((t,n=0)=>{e("search","content",t,n)}),[e]),trackShare:t.useCallback(((t,n)=>{e("share","social",`${t}_${n}`)}),[e])}},useWebVitals:()=>{const{trackTiming:e}=a();t.useEffect((()=>{o((async()=>{const{getCLS:e,getFID:t,getFCP:n,getLCP:r,getTTFB:o}=await import("./index-CB41QSQZ.js").then((e=>e.w));return{getCLS:e,getFID:t,getFCP:n,getLCP:r,getTTFB:o}}),__vite__mapDeps([0,1,2,3,4,5])).then((({getCLS:t,getFID:n,getFCP:r,getLCP:o,getTTFB:a})=>{t((t=>{e("CLS",1e3*t.value,"web_vitals")})),n((t=>{e("FID",t.value,"web_vitals")})),r((t=>{e("FCP",t.value,"web_vitals")})),o((t=>{e("LCP",t.value,"web_vitals")})),a((t=>{e("TTFB",t.value,"web_vitals")}))})).catch((()=>{}))}),[e])},useErrorTracking:()=>{const{trackEvent:e}=a(),n=t.useCallback(((t,n={})=>{t.message,t.stack,(new Date).toISOString(),window.location.href,navigator.userAgent;e("error","technical",t.message)}),[e]);return t.useEffect((()=>{const e=e=>{n(e.error,{type:"global_error"})},t=e=>{n(new Error(e.reason),{type:"unhandled_rejection"})};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}}),[n]),{trackError:n}},useABTest:(e,n=["A","B"])=>{const{trackEvent:r}=a(),o=t.useCallback((()=>{const t=`ab_test_${e}`;let o=localStorage.getItem(t);return o||(o=n[Math.floor(Math.random()*n.length)],localStorage.setItem(t,o),r("ab_test_assigned","experiment",`${e}_${o}`)),o}),[e,n,r]),s=t.useCallback((t=>{const n=o();r("ab_test_conversion","experiment",`${e}_${n}_${t}`)}),[e,o,r]);return{getVariant:o,trackConversion:s}},usePerformanceBudget:(e={})=>{const{trackEvent:n}=a();t.useEffect((()=>{const t=()=>{const t=performance.getEntriesByType("navigation")[0];if(e.loadTime&&t.loadEventEnd>e.loadTime&&n("performance_budget_exceeded","performance","load_time",t.loadEventEnd),e.domContentLoaded&&t.domContentLoadedEventEnd>e.domContentLoaded&&n("performance_budget_exceeded","performance","dom_content_loaded",t.domContentLoadedEventEnd),"memory"in performance&&e.memoryUsage){const t=performance.memory.usedJSHeapSize;t>e.memoryUsage&&n("performance_budget_exceeded","performance","memory_usage",t)}};if("complete"!==document.readyState)return window.addEventListener("load",t),()=>window.removeEventListener("load",t);t()}),[e,n])}},c=()=>(s("ReaderHomePage"),e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Discover Poetry - VerseNest",description:"Explore a curated collection of poetry from talented writers worldwide. Discover new voices, trending poems, and your next favorite poet on VerseNest.",keywords:"discover poetry, read poems, poetry collection, trending poets, literature, verse discovery",structuredData:{"@type":"WebPage",name:"Poetry Discovery",description:"Discover and explore poetry from writers worldwide",url:"/reader",isPartOf:{"@type":"WebApplication",name:"VerseNest"}}}),e.jsx(n,{})]}));export{c as default};

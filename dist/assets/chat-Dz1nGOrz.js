import{j as e,S as t,o as a,p as s,q as n}from"./ui-Dd_wLzvn.js";import{r}from"./router-CBa4Q3vi.js";const i=({name:t,size:a="w-12 h-12",className:s="",...n})=>{const r=t.split(" ").map((e=>e.charAt(0))).join("").toUpperCase().slice(0,2),i=["bg-amber-400 text-amber-900","bg-orange-400 text-orange-900","bg-yellow-400 text-yellow-900","bg-lime-400 text-lime-900","bg-emerald-400 text-emerald-900","bg-teal-400 text-teal-900","bg-cyan-400 text-cyan-900","bg-blue-400 text-blue-900","bg-indigo-400 text-indigo-900","bg-purple-400 text-purple-900","bg-pink-400 text-pink-900","bg-rose-400 text-rose-900"],o=i[t.charCodeAt(0)%i.length];return e.jsx("div",{className:`\n        ${a} rounded-full flex items-center justify-center\n        font-semibold text-sm ${o} ${s}\n      `,...n,children:r})},o=({conversation:t,isActive:a,animationDelay:s=0,onSelect:n})=>{const{name:r,picture:o,lastMessage:l,time:d,isOnline:c}=t;return e.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{n()},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n())},className:`\n        relative flex items-center p-4 rounded-xl cursor-pointer\n        transition-all duration-300 ease-out group\n        hover:transform hover:-translate-y-0.5 hover:shadow-lg\n        focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:ring-offset-2\n        ${a?"bg-orange-100/80 shadow-md":"bg-amber-100/50 hover:bg-amber-100/80"}\n        \n        /* Ornamental background pattern */\n        before:absolute before:inset-0 before:rounded-xl before:opacity-10\n        before:bg-[url('data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath d='M30,10 Q50,5 70,20 Q90,40 80,70 Q70,90 40,85 Q10,80 10,50 Q10,20 30,10' fill='none' stroke='%238c7566' stroke-width='0.5'/%3E%3C/svg%3E')]\n        before:bg-[length:100px] before:bg-no-repeat before:bg-bottom-right\n      `,style:{animationDelay:`${s}ms`},"aria-label":`Conversation with ${r}. Last message: ${l}. ${d}`,children:[e.jsxs("div",{className:"relative flex-shrink-0 mr-4",children:[e.jsxs("div",{className:`\n          w-12 h-12 rounded-full overflow-hidden border-2 transition-colors duration-200\n          ${a?"border-amber-400":"border-amber-300 group-hover:border-amber-400"}\n        `,children:[o?e.jsx("img",{src:o,alt:`${r} profile picture`,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,e.jsx(i,{name:r,size:"w-12 h-12",className:o?"hidden":""})]}),c&&e.jsx("div",{className:"\n              absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 \n              border-2 border-white rounded-full\n              animate-pulse\n            ","aria-hidden":"true"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`\n          font-serif text-lg font-bold mb-0.5 transition-colors duration-200\n          ${a?"text-amber-900":"text-amber-800 group-hover:text-amber-900"}\n        `,children:r}),e.jsx("p",{className:`\n          text-sm leading-relaxed transition-colors duration-200\n          ${a?"text-amber-700":"text-amber-600 group-hover:text-amber-700"}\n          overflow-hidden text-ellipsis whitespace-nowrap\n          max-w-[180px]\n        `,children:l}),e.jsx("span",{className:`\n          text-xs italic transition-colors duration-200\n          ${a?"text-amber-600":"text-amber-500 group-hover:text-amber-600"}\n        `,children:d})]}),e.jsx("div",{className:`\n        absolute right-2 top-1/2 transform -translate-y-1/2\n        w-2 h-2 rounded-full transition-all duration-200\n        ${a?"bg-amber-400 scale-100":"bg-amber-300/50 scale-0 group-hover:scale-100"}\n      `})]})},l=r.forwardRef((({conversations:a,activeConversation:s,searchQuery:n,isHidden:r,isMobile:i,onConversationSelect:l,onSearchChange:d},c)=>{const m=a.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())||e.lastMessage.toLowerCase().includes(n.toLowerCase())));return e.jsxs("aside",{ref:c,className:`\n        w-80 min-w-80 h-full bg-white/70 backdrop-blur-lg border-r border-amber-200/20\n        transition-transform duration-300 ease-in-out z-30\n        ${i?"fixed inset-y-0 left-0 "+(r?"-translate-x-full":"translate-x-0"):r?"hidden":"flex"}\n        flex flex-col\n      `,role:"complementary","aria-label":"Conversations sidebar",children:[e.jsx("div",{className:"p-5 border-b border-amber-200/20",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"\n            relative p-3 bg-amber-100/50 rounded-xl shadow-sm overflow-hidden\n            before:absolute before:content-[''] before:w-10 before:h-10\n            before:top-[-10px] before:left-[-10px] before:opacity-20\n            before:bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\' fill=\\'none\\' stroke=\\'%238c7566\\' stroke-width=\\'1\\' stroke-linecap=\\'round\\' stroke-linejoin=\\'round\\'%3E%3Cpath d=\\'M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z\\'/%3E%3Cpath d=\\'M12 16c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4z\\'/%3E%3C/svg%3E')]\n            after:absolute after:content-[''] after:w-10 after:h-10\n            after:bottom-[-10px] after:right-[-10px] after:opacity-20\n            after:bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\' fill=\\'none\\' stroke=\\'%238c7566\\' stroke-width=\\'1\\' stroke-linecap=\\'round\\' stroke-linejoin=\\'round\\'%3E%3Cpath d=\\'M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z\\'/%3E%3Cpath d=\\'M12 16c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4z\\'/%3E%3C/svg%3E')]\n          ",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(t,{className:"absolute left-3 w-4 h-4 text-amber-600/70"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:n,onChange:e=>{d(e.target.value)},className:"\n                  w-full pl-10 pr-4 py-2 bg-transparent\n                  font-serif text-base text-amber-900\n                  placeholder:text-amber-600/60 placeholder:italic\n                  border-none outline-none focus:ring-0\n                ","aria-label":"Search conversations"})]})})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2.5 space-y-2.5",role:"list","aria-label":"Conversation list",children:0===m.length?e.jsx("div",{className:"text-center py-8 text-amber-600/60 italic",children:"No conversations found"}):m.map(((t,a)=>e.jsx(o,{conversation:t,isActive:t.id===s?.id,animationDelay:100*a,onSelect:()=>l(t)},t.id)))}),!i&&e.jsx("div",{className:"p-4 border-t border-amber-200/20 text-center",children:e.jsx("p",{className:"text-xs text-amber-600/60 italic",children:"Connect through the art of words"})})]})}));l.displayName="ConversationSidebar";const d=({activeConversation:t,isMobile:n,isSidebarHidden:r,onToggleSidebar:o})=>{const{name:l,picture:d,isOnline:c}=t;return e.jsxs("header",{className:"\n      relative px-6 py-4 border-b border-amber-200/20\n      bg-white/70 backdrop-blur-lg z-10\n    ",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[n&&e.jsx("button",{onClick:o,className:"\n                p-2 rounded-lg text-amber-600 hover:text-amber-800\n                hover:bg-amber-100/50 transition-all duration-200\n                focus:outline-none focus:ring-2 focus:ring-amber-400/50\n              ","aria-label":r?"Show conversations":"Hide conversations",children:e.jsx(a,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-amber-300",children:[d?e.jsx("img",{src:d,alt:`${l} profile picture`,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,e.jsx(i,{name:l,size:"w-10 h-10",className:d?"hidden":""})]}),c&&e.jsx("div",{className:"\n                    absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 \n                    border-2 border-white rounded-full\n                  ","aria-hidden":"true"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-serif font-bold text-amber-900",children:l}),e.jsx("p",{className:"text-sm text-amber-600 italic",children:c?"Last seen writing poetry at dawn":"Away from their quill"})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"\n              p-2 rounded-lg text-amber-600 hover:text-amber-800\n              hover:bg-amber-100/50 transition-all duration-200\n              focus:outline-none focus:ring-2 focus:ring-amber-400/50\n            ","aria-label":"More options",children:e.jsx(s,{className:"w-5 h-5"})})})]}),e.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-24 h-0.5 bg-gradient-to-r from-transparent via-amber-300 to-transparent"})]})},c=({message:t,isGrouped:a=!1,animationDelay:s=0})=>{const{text:n,time:r,isReceived:i,sender:o}=t;return e.jsxs("div",{className:`\n        flex items-end space-x-2 animate-fade-in-up\n        ${i?"justify-start":"justify-end"}\n        ${a?"mt-1":"mt-4"}\n      `,style:{animationDelay:`${s}ms`,animationFillMode:"both"},children:[e.jsxs("div",{className:`\n          max-w-xs lg:max-w-md xl:max-w-lg px-4 py-3 rounded-2xl\n          transition-all duration-200 hover:scale-[1.02]\n          ${i?"bg-amber-100/80 text-amber-900 rounded-bl-md":"bg-orange-200/80 text-orange-900 rounded-br-md"}\n          shadow-sm hover:shadow-md\n        `,role:"article","aria-label":`${i?"Received":"Sent"} message from ${o}`,children:[e.jsx("p",{className:"text-base leading-relaxed font-serif whitespace-pre-wrap",children:n}),e.jsx("div",{className:`\n          mt-2 text-xs italic opacity-70\n          ${i?"text-left":"text-right"}\n        `,children:r})]}),!i&&e.jsx("div",{className:"flex items-end pb-1",children:e.jsx("div",{className:"w-2 h-2 bg-orange-400/50 rounded-full"})})]})},m=({messages:t,activeConversation:a,messagesEndRef:s})=>e.jsxs("div",{className:"\n        flex-1 overflow-y-auto px-6 py-6 space-y-4\n        scrollbar-thin scrollbar-thumb-amber-300/50 scrollbar-track-transparent\n        relative z-10\n      ",role:"log","aria-label":"Message history","aria-live":"polite",children:[0===t.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"âœï¸"}),e.jsx("h3",{className:"text-xl font-serif text-amber-800 mb-2",children:"Begin your literary conversation"}),e.jsxs("p",{className:"text-amber-600 italic max-w-md mx-auto",children:["Share your thoughts, poems, or simply exchange pleasantries with ",a.name]})]}),t.map(((a,s)=>{const n=t[s-1],r=n&&n.sender===a.sender&&n.isReceived===a.isReceived;return e.jsx(c,{message:a,isGrouped:r,animationDelay:50*s},a.id)})),e.jsx("div",{ref:s})]}),b=({value:t,onChange:a,onSend:s,onKeyPress:i,disabled:o=!1})=>{const l=r.useRef(null);r.useEffect((()=>{const e=l.current;if(e){e.style.height="auto";const t=Math.min(Math.max(e.scrollHeight,40),120);e.style.height=`${t}px`}}),[t]);const d=!t.trim();return e.jsxs("div",{className:"\n      p-5 bg-white/70 backdrop-blur-lg border-t border-amber-200/20\n      relative z-10\n    ",children:[e.jsxs("div",{className:"\n        relative flex items-end space-x-3 bg-amber-100/50 rounded-xl p-3\n        shadow-sm focus-within:shadow-md transition-shadow duration-200\n        \n        /* Ornamental background pattern */\n        before:absolute before:inset-0 before:rounded-xl before:opacity-20\n        before:bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'100\\' height=\\'100\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10,10 Q30,5 50,10 Q70,15 90,10 Q95,30 90,50 Q85,70 90,90 Q70,85 50,90 Q30,95 10,90 Q5,70 10,50 Q15,30 10,10\\' fill=\\'none\\' stroke=\\'%238c7566\\' stroke-width=\\'0.5\\'/%3E%3C/svg%3E')]\n        before:bg-[length:100px] before:bg-no-repeat before:bg-center\n      ",children:[e.jsx("textarea",{ref:l,value:t,onChange:e=>{a(e.target.value)},onKeyDown:e=>{i(e)},disabled:o,placeholder:"Compose your message...",className:"\n            flex-1 bg-transparent border-none outline-none resize-none\n            font-serif text-base text-amber-900 leading-relaxed\n            placeholder:text-amber-600/60 placeholder:italic\n            min-h-[40px] max-h-[120px] py-2\n            disabled:opacity-50 disabled:cursor-not-allowed\n            relative z-10\n          ","aria-label":"Type your message",rows:1}),e.jsx("button",{onClick:()=>{!o&&t.trim()&&s()},disabled:o||d,className:`\n            flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center\n            transition-all duration-200 relative z-10\n            focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:ring-offset-2\n            ${o||d?"bg-amber-200/50 text-amber-400 cursor-not-allowed":"bg-orange-200/80 text-orange-700 hover:bg-orange-300/80 hover:scale-105 active:scale-95"}\n          `,"aria-label":"Send message",children:e.jsx(n,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"mt-2 text-xs text-amber-600/60 italic text-center",children:"Press Enter to send â€¢ Shift + Enter for new line"}),e.jsxs("div",{className:"mt-3 flex justify-center space-x-2 opacity-30",children:[e.jsx("div",{className:"w-6 h-0.5 bg-amber-400 rounded-full"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-6 h-0.5 bg-amber-400 rounded-full"})]})]})},h=({activeConversation:t,messages:a,isMobile:s,isSidebarHidden:n,onSendMessage:i,onToggleSidebar:o})=>{const[l,c]=r.useState(""),[h,x]=r.useState(!1),u=r.useRef(null);r.useEffect((()=>{g()}),[a]);const g=()=>{u.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},f=()=>{const e=l.trim();e&&(i(e),c(""),x(!1))};return t?e.jsxs("div",{className:"flex-1 flex flex-col bg-amber-50/30 relative",role:"main","aria-label":`Chat with ${t.name}`,children:[e.jsx("div",{className:"\n        absolute inset-0 opacity-10 pointer-events-none\n        bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'200\\' viewBox=\\'0 0 200 200\\'%3E%3Cpath d=\\'M20,50 Q60,20 100,50 Q140,80 180,50 Q160,100 180,150 Q140,120 100,150 Q60,180 20,150 Q40,100 20,50\\' fill=\\'none\\' stroke=\\'%23e6c0a8\\' stroke-width=\\'1\\'/%3E%3C/svg%3E')]\n        bg-[length:200px] bg-repeat\n      "}),e.jsx(d,{activeConversation:t,isMobile:s,isSidebarHidden:n,onToggleSidebar:o}),e.jsx(m,{messages:a,activeConversation:t,messagesEndRef:u}),h&&e.jsx("div",{className:"px-6 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2 text-amber-600 text-sm italic",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{children:"You are typing..."})]})}),e.jsx(b,{value:l,onChange:e=>{c(e),!h&&e.trim()&&(x(!0),setTimeout((()=>x(!1)),1e3))},onSend:f,onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},disabled:!t})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-amber-50/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’Œ"}),e.jsx("h2",{className:"text-2xl font-serif text-amber-800 mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-amber-600 italic",children:"Choose a literary companion to begin your dialogue"})]})})},x=[{id:1,name:"Elizabeth Bennet",picture:null,lastMessage:"I declare after all there is no enjoyment like reading!",time:"9:45 AM",isActive:!0,isOnline:!0},{id:2,name:"Mr. Darcy",picture:null,lastMessage:"In vain I have struggled. It will not do. My feelings will not be repressed.",time:"Yesterday",isActive:!1,isOnline:!1},{id:3,name:"Jane Austen",picture:null,lastMessage:"The person, be it gentleman or lady, who has not pleasure in a good novel, must be intolerably stupid.",time:"Tuesday",isActive:!1,isOnline:!0},{id:4,name:"Emily Dickinson",picture:null,lastMessage:"Hope is the thing with feathers that perches in the soul.",time:"Monday",isActive:!1,isOnline:!1},{id:5,name:"Oscar Wilde",picture:null,lastMessage:"To live is the rarest thing in the world. Most people exist, that is all.",time:"Last week",isActive:!1,isOnline:!0}],u=[{id:1,sender:"Elizabeth Bennet",text:"I hope you are having a pleasant day. The gardens are particularly beautiful this morning.",time:"9:30 AM",isReceived:!0},{id:2,sender:"You",text:"Indeed, the roses are in full bloom. Would you care to join me for a stroll later?",time:"9:35 AM",isReceived:!1},{id:3,sender:"Elizabeth Bennet",text:"That would be delightful! I have been reading the most fascinating book of poetry and would love to discuss it with you.",time:"9:40 AM",isReceived:!0},{id:4,sender:"You",text:"I look forward to hearing your thoughts. Poetry has a way of expressing what ordinary words cannot.",time:"9:42 AM",isReceived:!1},{id:5,sender:"Elizabeth Bennet",text:"I declare after all there is no enjoyment like reading! How much sooner one tires of any thing than of a book!",time:"9:45 AM",isReceived:!0}],g=()=>{const[t,a]=r.useState(x),[s,n]=r.useState(u),[i,o]=r.useState(t[0]),[d,c]=r.useState(""),[m,b]=r.useState(!1),[g,f]=r.useState(!1),v=r.useRef(null);r.useEffect((()=>{const e=()=>{const e=window.innerWidth<=768;f(e),b(!!e)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const p=()=>{const e=["How fascinating! I had not considered that perspective before.","Indeed, the beauty of language is in its ability to convey the deepest emotions.","I find myself in complete agreement with your sentiment.","What a delightful observation! It reminds me of a passage I read recently.","Your words have a poetic quality that I find most refreshing."],t=e[Math.floor(Math.random()*e.length)],a={id:Date.now()+1,sender:i.name,text:t,time:w(),isReceived:!0};n((e=>[...e,a]))},w=()=>{const e=new Date;let t=e.getHours();const a=t>=12?"PM":"AM";return t%=12,t=t||12,`${t}:${e.getMinutes().toString().padStart(2,"0")} ${a}`},y=()=>{b(!m)};return e.jsxs("div",{className:"h-screen bg-gradient-to-br from-amber-50 to-orange-100 overflow-hidden",children:[e.jsxs("div",{className:"sr-only",children:[e.jsx("h1",{children:"VerseNest Poetry Messenger"}),e.jsx("p",{children:"Connect with fellow poets and literature enthusiasts through our elegant messaging platform"})]}),e.jsxs("div",{className:"flex h-full relative",role:"main","aria-label":"Poetry messaging interface",children:[e.jsx(l,{ref:v,conversations:t,activeConversation:i,searchQuery:d,isHidden:m,isMobile:g,onConversationSelect:e=>{o(e),a((t=>t.map((t=>({...t,isActive:t.id===e.id}))))),g&&b(!0)},onSearchChange:e=>{c(e)}}),e.jsx(h,{activeConversation:i,messages:s,isMobile:g,isSidebarHidden:m,onSendMessage:e=>{const t={id:Date.now(),sender:"You",text:e,time:w(),isReceived:!1};n((e=>[...e,t])),setTimeout((()=>{p()}),1e3+2e3*Math.random())},onToggleSidebar:y}),g&&!m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:y,"aria-hidden":"true"})]})]})};export{g as C};
